(function(c,i){typeof exports=="object"&&typeof module<"u"?i(exports,require("axios")):typeof define=="function"&&define.amd?define(["exports","axios"],i):(c=typeof globalThis<"u"?globalThis:c||self,i(c["sharai-sdk-ts"]={},c.axios))})(this,function(c,i){"use strict";var x=Object.defineProperty;var z=(c,i,h)=>i in c?x(c,i,{enumerable:!0,configurable:!0,writable:!0,value:h}):c[i]=h;var O=(c,i,h)=>z(c,typeof i!="symbol"?i+"":i,h);/*! js-cookie v3.0.5 | MIT */function h(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)e[r]=n[r]}return e}var P={read:function(e){return e[0]==='"'&&(e=e.slice(1,-1)),e.replace(/(%[\dA-F]{2})+/gi,decodeURIComponent)},write:function(e){return encodeURIComponent(e).replace(/%(2[346BF]|3[AC-F]|40|5[BDE]|60|7[BCD])/g,decodeURIComponent)}};function v(e,t){function n(a,s,o){if(!(typeof document>"u")){o=h({},t,o),typeof o.expires=="number"&&(o.expires=new Date(Date.now()+o.expires*864e5)),o.expires&&(o.expires=o.expires.toUTCString()),a=encodeURIComponent(a).replace(/%(2[346B]|5E|60|7C)/g,decodeURIComponent).replace(/[()]/g,escape);var p="";for(var u in o)o[u]&&(p+="; "+u,o[u]!==!0&&(p+="="+o[u].split(";")[0]));return document.cookie=a+"="+e.write(s,a)+p}}function r(a){if(!(typeof document>"u"||arguments.length&&!a)){for(var s=document.cookie?document.cookie.split("; "):[],o={},p=0;p<s.length;p++){var u=s[p].split("="),T=u.slice(1).join("=");try{var y=decodeURIComponent(u[0]);if(o[y]=e.read(T,y),a===y)break}catch{}}return a?o[a]:o}}return Object.create({set:n,get:r,remove:function(a,s){n(a,"",h({},s,{expires:-1}))},withAttributes:function(a){return v(this.converter,h({},this.attributes,a))},withConverter:function(a){return v(h({},this.converter,a),this.attributes)}},{attributes:{value:Object.freeze(t)},converter:{value:Object.freeze(e)}})}var C=v(P,{path:"/"});/*!
 * cookie
 * Copyright(c) 2012-2014 Roman Shtylman
 * Copyright(c) 2015 Douglas Christopher Wilson
 * MIT Licensed
 */var $=k,I=Object.prototype.toString,g=/^[\u0009\u0020-\u007e\u0080-\u00ff]+$/;function k(e,t,n){var r=n||{},a=r.encode||b;if(typeof a!="function")throw new TypeError("option encode is invalid");if(!g.test(e))throw new TypeError("argument name is invalid");var s=a(t);if(s&&!g.test(s))throw new TypeError("argument val is invalid");var o=e+"="+s;if(r.maxAge!=null){var p=r.maxAge-0;if(isNaN(p)||!isFinite(p))throw new TypeError("option maxAge is invalid");o+="; Max-Age="+Math.floor(p)}if(r.domain){if(!g.test(r.domain))throw new TypeError("option domain is invalid");o+="; Domain="+r.domain}if(r.path){if(!g.test(r.path))throw new TypeError("option path is invalid");o+="; Path="+r.path}if(r.expires){var u=r.expires;if(!D(u)||isNaN(u.valueOf()))throw new TypeError("option expires is invalid");o+="; Expires="+u.toUTCString()}if(r.httpOnly&&(o+="; HttpOnly"),r.secure&&(o+="; Secure"),r.partitioned&&(o+="; Partitioned"),r.priority){var T=typeof r.priority=="string"?r.priority.toLowerCase():r.priority;switch(T){case"low":o+="; Priority=Low";break;case"medium":o+="; Priority=Medium";break;case"high":o+="; Priority=High";break;default:throw new TypeError("option priority is invalid")}}if(r.sameSite){var y=typeof r.sameSite=="string"?r.sameSite.toLowerCase():r.sameSite;switch(y){case!0:o+="; SameSite=Strict";break;case"lax":o+="; SameSite=Lax";break;case"strict":o+="; SameSite=Strict";break;case"none":o+="; SameSite=None";break;default:throw new TypeError("option sameSite is invalid")}}return o}function b(e){return encodeURIComponent(e)}function D(e){return I.call(e)==="[object Date]"||e instanceof Date}const w="headers",f=class f{constructor(){}static getInstance(){return f.instance||(f.instance=new f),f.instance}setHeaders(t){const n={};t.store_id&&(n.store_id=t.store_id),t.token&&(n.token=t.token),t["Content-Type"]&&(n["Content-Type"]=t["Content-Type"]);const r=$(w,JSON.stringify(n),{path:"/"});C.set(w,r,{path:"/"})}getHeaders(){const t=C.get(w);if(!t)return{};try{return JSON.parse(t)}catch(n){return console.error("Error parsing headers from cookies:",n),{}}}};O(f,"instance");let m=f;const E=m.getInstance(),A=e=>E.setHeaders(e),d=()=>E.getHeaders(),l="https://sharai-server.onrender.com",j=async e=>{try{await i.delete(`${l}/api/product/delete-one?id=${e}`,{headers:d()})}catch(t){console.error(t)}},R=async(e,t,n=!0,r=!1)=>{const a=`${l}/api/product/get-by-category?id=${e}&active=${n}&similar=${r}`;try{const s=await i.get(a,{headers:d()}),{data:o}=await s.data;return{data:o}}catch(s){console.error(s)}},G=async(e,t=!0)=>{try{const n=await i.post(`${l}/api/product/post-many?active=${t}`,{products:[...e]},{headers:d()}),{result:r}=n.data;return r}catch(n){console.error("There was a problem posting the data:",n)}},U=e=>{if(e){const{id:t,category:n,products:r,active:a}=e;return t?S():r&&(r==null?void 0:r.length)>0?G(r,a):n?R(n):S()}else return S()},S=async e=>{const t=`${l}/api/product`;try{const n=await i.get(t,{headers:d()}),{data:r}=await n;return r}catch(n){console.error(n)}},L={DELETE:j,GET:U,POST:async e=>{try{const t=await i.post(`${l}/api/products/post-one`,{...e},{headers:d()}),{result:n}=t.data;return n}catch(t){console.error("There was a problem posting the data:",t)}},SEARCH:async e=>{try{return(await i.get(`${l}/api/product/search?phrase=${e}`,{headers:d()})).data.result}catch(t){console.error("There was a problem posting the data:",t)}}},H={DELETE:async e=>{try{await i.delete(`${l}/api/invoice/delete-one?id=${e}`,{headers:d()})}catch(t){console.error(t)}},GET:async(e=1)=>{try{const t=await i.get(`${l}/api/invoice/get-all?page=${e}`,{headers:d()}),{data:n}=await t.data;return{data:n}}catch(t){console.error(t)}},POST:async e=>{if(e)try{return await i.post(`${l}/api/orders/post-one`,e,{headers:d()}),!0}catch(t){return console.error("There was a problem posting the data:",t),!1}},SEARCH:async e=>{try{return(await i.get(`${l}/api/invoice/search?phrase=${e}`,{headers:d()})).data.result}catch(t){console.error("There was a problem posting the data:",t)}}},B={DELETE:async e=>{try{await i.delete(`${l}/api/category/delete-one?id=${e}`)}catch(t){console.error(t)}},GET:async()=>{try{const e=await i.get(`${l}/api/category/get-all`),{data:t}=await e.data;return{data:t}}catch(e){console.error(e)}},POST:async e=>{if(e)try{await i.post(`${l}/api/category/post-one`,e,{headers:d()})}catch(t){console.error("There was a problem posting the data:",t)}}};c.Category=B,c.Invoice=H,c.Product=L,c.config=A,Object.defineProperty(c,Symbol.toStringTag,{value:"Module"})});
